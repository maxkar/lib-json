# Writing JSON

## Converting Values

The set of basic implicit conversions from Scala types to
JsonValues is provided.

For optional values None is converted into JsonUndefined and for
Some(x) the result be the same as the conversion of x to JsonValue.

The null values (of JsonString, JsonArray and JsonObject types) are
converted into JsonNull (and null literal), not into JsonUndefined.

## Buliding Complex Objects

There are two ways to build complex objects. The Json.make
and Json.array methods could be used to construct objects and
arrays. The same entities may be created by using implicit
conversions from Map[String, JsonValue] and Seq[JsonValue].

### Building Objects

The JSON objects could be created by explicitly calling Json.make or
by implicit conversion from Map[String, JsonValue].

The keys with the JsonUndefined values are ignored (not present in
the resulting object). The `null` values are converted into JsonNull.

```
val v : JsonObject = null
val x = Json.make(
  "a" → 3, // implicit conversion int → 3
  "b" → v, // will be a null literal in the output
  "c" → JsonUndefined // "c" won't be present in the object
)
```

The most common use of JsonUndefined is a conditional generation:

```
val x = Json.make(
  "option" → (someOption match {
    case NotUsed ⇒ JsonUndefined
    case Optimize ⇒ "optimize"
    case Pessimize ⇒ "pessimize"
  })
)
```


### Building Arrays

Json arrays could be created by an explicit calls to Json.array or
by implicit conversion from Seq[JsonValue] to JsonValue.

The JsonUndefined items are excluded from the resulting array. All null
values are converted into the null literals.

```
val p : JsonValue = null
val x = Json.array(1, p, 2, JsonUndefined, 3)
println(Json.toString(x)) // prints [1, null, 2, 3]
```

As with Json.make, the most common use of JsonUndefined is generation
of potentially optional values.


## Serializing JSON

A JsonValue could be output into a Writer by Json.writeTo method.
Alternatively a string representation could be generated by a call to Json.toString method.
Please note that JsonValue.toString *is not* equivalent to Json.toString. JsonValue.toString
provides an internal representation of the JSON when Json.toString generates a valid
serialized JSON value.

Although an attempt to serialize JsonUndefined is syntactically valid, it will
end up in a `JsonException`
